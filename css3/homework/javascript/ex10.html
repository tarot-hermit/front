<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test12.html</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    table {
      width: 100%;
      text-align: center;
    }
    th {
      background-color: #f1f1f1;
    }
    td {
      height: 70px;
      vertical-align: top;
    }
    .today {
      background-color: #ffe4e1;
      color: red;
      font-weight: bold;
    }
  </style>

  <script>
    'use strict';

    let now = new Date();   // ⭐ 기준 날짜 (월 이동 핵심)

    function fCheck() {
      let str = '';

      const year = now.getFullYear();
      const month = now.getMonth();

      const firstDay = new Date(year, month, 1).getDay();
      const lastDate = new Date(year, month + 1, 0).getDate();

      str += `
        <h4 class="text-center">
          <button class="btn btn-sm btn-outline-primary" onclick="prevMonth()">◀</button>
          ${year}년 ${month + 1}월
          <button class="btn btn-sm btn-outline-primary" onclick="nextMonth()">▶</button>
        </h4>

        <table class="table table-bordered">
          <tr>
            <th class="text-danger">일</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th class="text-primary">토</th>
          </tr>
          <tr>
      `;

      // 시작 요일 빈칸
      for (let i = 0; i < firstDay; i++) {
        str += `<td></td>`;
      }

      const today = new Date();

      for (let day = 1; day <= lastDate; day++) {
        let className = '';

        if (
          year === today.getFullYear() &&
          month === today.getMonth() &&
          day === today.getDate()
        ) {
          className = 'today';
        }

        str += `<td class="${className}">${day}</td>`;

        if ((firstDay + day) % 7 === 0) {
          str += `</tr><tr>`;
        }
      }

      str += `
          </tr>
        </table>
      `;

      demo.innerHTML = str;
    }

    function prevMonth() {
      now.setMonth(now.getMonth() - 1);
      fCheck();
    }

    function nextMonth() {
      now.setMonth(now.getMonth() + 1);
      fCheck();
    }

    window.onload = fCheck;
  </script>
</head>

<body>
  <p><br/></p>
  <div class="container">
    <h2>달력제작</h2>
    <div>
      <input type="button" value="출력" onclick="fCheck()" class="btn btn-primary">
    </div>
    <hr/>
    <div id="demo"></div>
  </div>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test8.html</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';



    function gugudan() {
      let startDan = Number(document.getElementById("srartdan").value);
      let endDan = Number(document.getElementById("endDan").value);
      let colCnt = Number(document.getElementById("colCnt").value);

      if (colCnt < 1) colCnt = 1;

      
      if (startDan > endDan) {
        let temp = startDan;
        startDan = endDan;
        endDan = temp;

        document.getElementById("srartdan").value = startDan;
        document.getElementById("endDan").value = endDan;
      }

      let totalDan = endDan - startDan + 1;
      let rowCnt = Math.ceil(totalDan / colCnt);

      let str = '<table class="table table-bordered text-center">';

      for (let r = 0; r < rowCnt; r++) {
        str += '<tr>';

        for (let c = 0; c < colCnt; c++) {
          let dan = startDan + r * colCnt + c;
          if (dan <= endDan) {
            str += `<th>${dan}단</th>`;
          } else {
            str += '<th></th>';
          }
        }
        str += '</tr>';

        for (let i = 1; i <= 9; i++) {
          str += '<tr>';
          for (let c = 0; c < colCnt; c++) {
            let dan = startDan + r * colCnt + c;
            if (dan <= endDan) {
              str += `<td>${dan} × ${i} = ${dan * i}</td>`;
            } else {
              str += '<td></td>';
            }
          }
          str += '</tr>';
        }
      }

      str += '</table>';
      document.getElementById("demo").innerHTML = str;
    }

  </script>
</head>

<body>
  <p><br /></p>
  <div class="container">
    <h2 class="text-center">열 입력 → 행 자동 조절 구구단</h2>
    <hr />

    <div class="input-group mb-2">
      <span class="input-group-text">시작단</span>
      <input type="number" id="srartdan" value="2" class="form-control" />
    </div>

    <div class="input-group mb-2">
      <span class="input-group-text">끝단</span>
      <input type="number" id="endDan" value="9" class="form-control" />
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text">열 개수</span>
      <input type="number" id="colCnt" value="3" class="form-control" />
      <button class="btn btn-success" onclick="gugudan()">계산</button>
    </div>

    <hr />
    <div id="demo"></div>
  </div>
</body>

</html>
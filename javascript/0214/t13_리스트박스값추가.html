<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>동적폼 연습</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';

    const productData = {
      "냉장고": {
        "양문형": 2000000,
        "일반형": 1200000,
        "미니냉장고": 500000
      },
      "오디오": {
        "블루투스": 300000,
        "스피커형": 450000,
        "홈시어터": 900000
      },
      "선풍기": {
        "스탠드형": 80000,
        "벽걸이형": 90000,
        "탁상형": 50000
      },
      "에어컨": {
        "스탠드형": 2500000,
        "벽걸이형": 1500000,
        "창문형": 700000
      }
    };

    function fCheck() {
      const proc = document.getElementById("proc").value;
      const productSelect = document.getElementById("product");

      productSelect.innerHTML = '<option value="">옵션선택</option>';

      if (productData[proc]) {
        for (let option in productData[proc]) {
          const opt = document.createElement("option");
          opt.value = option;
          opt.textContent = option;
          productSelect.appendChild(opt);
        }
      }
    }

    function priceCheck() {
      const proc = document.getElementById("proc").value;
      const option = document.getElementById("product").value;
      const demo = document.getElementById("demo");

      if (productData[proc] && productData[proc][option]) {
        const price = productData[proc][option].toLocaleString();
        demo.innerHTML = `<h5>가격 : ${price}원</h5>`;
      }
    }
  </script>

</head>

<body>
  <p><br /></p>
  <div class="container">
    <h4>리스트박스값추가하기 </h4>
    <form name="myform">
      <div>상품명
        <select name="product" id="proc" onchange="fCheck()" class="form-control mb-3">
          <option>상품선택</option>
          <option>냉장고</option>
          <option>오디오</option>
          <option>선풍기</option>
          <option>에어컨</option>
        </select>
      </div>
      <div>
        <select name="product" id="product" onchange="priceCheck()" class="form-control">
          <option value="">옵션선택</option>
        </select>
      </div>
      <hr />
      <div id="demo0"></div>
      <hr />
      <div id="demo"></div>
    </form>
  </div>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>t05_값전달.html</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    'use strict';

    let newWin = null;

    // ✅ 아이디 중복체크 팝업 열기
    function idCheck() {
      const midEl = document.getElementById("mid");
      const mid = midEl.value.trim();

      if (!mid) {
        alert("아이디를 입력하세요.");
        midEl.focus();
        return;
      }

      const width = 400;
      const height = 300;
      const left = (screen.width - width) / 2;
      const top = (screen.height - height) / 2;

      newWin = window.open(
        `t05_child.html?mid=${encodeURIComponent(mid)}`,
        "nWindow",
        `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes`
      );

      if (newWin) newWin.focus();
    }

    // ✅ (예시) 로그인 버튼은 로그인 처리로 따로 둠
    function fCheck() {
      const mid = document.getElementById("mid").value.trim();
      const pwd = document.getElementById("pwd").value.trim();

      if (!mid) return alert("아이디를 입력하세요.");
      if (!pwd) return alert("비밀번호를 입력하세요.");

      alert(`로그인 시도(예시)\nID: ${mid}\nPWD: ${pwd}`);
    }

    // ✅ (선택) 자식창이 부모 함수 호출할 때 쓰는 예시
    function idCheckComplete(checkedId) {
      
      console.log("중복체크 완료:", checkedId);
    }
  </script>
</head>

<body>
  <p><br /></p>
  <div class="container">
    <h2>윈도우를 통한 값 전달하기</h2>
    <hr />

    <!-- ✅ 오타 수정: myforn -> myform -->
    <form name="myform">
      <div class="mb-3">
        아이디
        <input type="text" name="mid" id="mid" value="hkd1234" autofocus class="me-3">
        <!-- ✅ 기존 코드의 핵심 문제: idCheck() 함수가 없었음 → 이제 있음 -->
        <input type="button" value="아이디중복체크" onclick="idCheck()" class="btn btn-primary">
      </div>

      <div class="mb-3">
        비밀번호
        <input type="password" name="pwd" id="pwd" value="1234" class="form-control">
      </div>

      <div>
        <!-- ✅ 로그인 버튼은 fCheck() 그대로 로그인 용도로 사용 -->
        <input type="button" value="로그인" onclick="fCheck()" class="btn btn-success me-3">
        <input type="reset" value="다시입력" class="btn btn-success me-3">
      </div>
    </form>
  </div>
</body>

</html>
